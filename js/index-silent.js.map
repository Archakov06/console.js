{"version":3,"sources":["js/abstract-view.js","js/type-view.js","js/enums.js","js/object/object-view.js","js/array/array-view.js","js/function/function-view.js","js/primitive/primitive-view.js","js/utils.js","js/main.js","js/index-silent.js"],"names":["AbstractView","getElement","this","template","_el","render","bind","TypeView","value","type","isPrimitive","_value","_type","_isPrimitive","Mode","Class","ObjectView","mode","_mode","_entries","Map","_isOpened","headEl","el","querySelector","_contentContainerEl","elOrStr","_getHeadContent","HTMLElement","DocumentFragment","appendChild","innerHTML","addEventListener","_this2","_hideContent","_showContent","_proxiedContentEl","createContent","constructor","Object","_getHeadDirContent","_getHeadErrorContent","stack","str","tagName","toLowerCase","classList","length","Array","prototype","join","call","Error","name","obj","isPreview","fragment","document","createDocumentFragment","keys","Set","key","add","view","createTypedView","entryEl","createEntryEl","_step","getOwnPropertyNames","Symbol","iterator","_iteratorNormalCompletion","_iterator","next","done","has","valueEl","ArrayView","arr","_arr","_elements","previewEl","ownPropertyNames","indexInKeys","indexOf","isKeyNaN","Number","isNaN","parseInt","index","withKey","FnType","FunctionView","fn","_fnType","checkFnType","_parseFunction","_parseFunction2","params","joinedLines","lines","markup","_parseFunction3","toString","funString","paramsStart","paramsEnd","paramsContent","substring","trim","split","map","it","endingChar","ex","RegExp","exec","bodyStart","bodyEnd","lastIndexOf","bodyContent","fnOrString","_parseParams","_parseBody","err","tpl","_getHeadPropMarkup","_getHeadDirMarkup","_getLogMarkup","firstParenthesisIndex","classIndex","arrowIndex","PrimitiveView","evt","preventDefault","toggle","unsafe","replace","html","Infinity","escaped","escapeHtml","htmlMarkup","div","createElement","firstElementChild","val","_typeof","isArray","getRowEl","entries","forEach","code","errors","collectErr","rest","_len","_key","arguments","push","window","onerror","console","warn","error","messages","collectMsg","apply","info","log","debug","init","jsConsole","cont","logger","onlog","errOrSmth","_len2","_key2","consoleObject","dir","jsConsoleInit","body","extend","args","concat","toConsumableArray","link","rel","href","CSS_URL","head"],"mappings":"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","file":"index-silent.js","sourcesContent":["import {getElement} from './utils';\n\nexport default class AbstractView {\n  constructor() {}\n\n  /**\n   * @abstract\n   * @return {string}\n   */\n  get template() {}\n\n  get el() {\n    if (!this._el) {\n      this._el = this.render();\n      this.bind(this._el);\n    }\n    return this._el;\n  }\n\n  render() {\n    return getElement(this.template);\n  }\n\n  bind() {}\n}\n","import AbstractView from './abstract-view';\n\nexport default class TypeView extends AbstractView {\n  constructor(value, type, isPrimitive) {\n    super();\n    this._value = value;\n    this._type = type;\n    this._isPrimitive = isPrimitive;\n  }\n\n  get value() {\n    return this._value;\n  }\n\n  get type() {\n    return this._type;\n  }\n\n  get isPrimitive() {\n    return this._isPrimitive;\n  }\n}\n","export const Mode = {\n  LOG: `log`,\n  DIR: `dir`,\n  PREVIEW: `preview`,\n  PROP: `prop`,\n  ERROR: `error`\n};\n\nexport const Class = {\n  CONSOLE_ITEM_HEAD: `console__item-head`,\n  CONSOLE_ITEM_HEAD_SIZE: `console__item-head_size`,\n  CONSOLE_ITEM_HEAD_ELEMENTS: `console__item-head_elements`,\n  CONSOLE_ITEM_CONTENT_CONTAINTER: `console__item-content-container`\n};\n","/* eslint guard-for-in: \"off\"*/\nimport TypeView from '../type-view';\nimport {getElement, createTypedView} from '../utils';\nimport {Mode, Class} from '../enums';\n\nexport default class ObjectView extends TypeView {\n  constructor(value, mode) {\n    super(value, `object`, false);\n    this._mode = mode;\n    this._entries = new Map();\n    this._isOpened = false;\n  }\n\n  get template() {\n    return `\n<div class=\"console__item object ${this.value.constructor.name} ${this._mode === Mode.ERROR ? `${this._mode}` : ``}\">\\\n  <div class=\"${Class.CONSOLE_ITEM_HEAD}\"></div>\\\n  <div class=\"${Class.CONSOLE_ITEM_CONTENT_CONTAINTER}\"></div>\\\n</div>`;\n  }\n\n  bind() {\n    const headEl = this.el.querySelector(`.${Class.CONSOLE_ITEM_HEAD}`);\n    this._contentContainerEl = this.el.querySelector(`.${Class.CONSOLE_ITEM_CONTENT_CONTAINTER}`);\n    // headEl.appendChild(this.createContent(this.value, true));\n\n    const elOrStr = this._getHeadContent();\n    if (elOrStr instanceof HTMLElement || elOrStr instanceof DocumentFragment) {\n      headEl.appendChild(elOrStr);\n    } else {\n      headEl.innerHTML = elOrStr;\n    }\n    if (this._mode === Mode.PREVIEW || this._mode === Mode.ERROR) {\n      return;\n    }\n\n    headEl.addEventListener(`click`, () => {\n      if (this._isOpened) {\n        this._hideContent();\n      } else {\n        this._showContent();\n      }\n      this._isOpened = !this._isOpened;\n    });\n  }\n\n  _showContent() {\n    if (!this._proxiedContentEl) {\n      this._proxiedContentEl = getElement(`<div class=\"console__item-content\"></div>`);\n      this._proxiedContentEl.appendChild(this.createContent(this.value, false));\n    }\n\n    this._contentContainerEl.appendChild(this._proxiedContentEl);\n  }\n\n  _hideContent() {\n    this._contentContainerEl.innerHTML = ``;\n  }\n\n  _getHeadContent() {\n    if (this.value.constructor === Object) {\n      if (this._mode !== Mode.PREVIEW) {\n        return this.createContent(this.value, true);\n      }\n      return `...`;\n    }\n    if (this._mode === Mode.DIR) {\n      return this._getHeadDirContent();\n    } else if (this._mode === Mode.LOG) { // Временно выводим для .log .error и preview то же, что и для .dir\n      return this._getHeadDirContent();\n    } else if (this._mode === Mode.PREVIEW) {\n      return this._getHeadDirContent();\n    } else if (this._mode === Mode.ERROR) {\n      return this._getHeadErrorContent();\n    }\n    return ``;\n  }\n\n  _getHeadPreviewContent() {}\n  _getHeadLogContent() {}\n  _getHeadErrorContent() {\n    return `<pre>${this.value.stack}</pre>`;\n  }\n  _getHeadDirContent() {\n    if (this.value instanceof HTMLElement) {\n      let str = this.value.tagName.toLowerCase();\n      if (this.value.classList.length) {\n        str += `.` + Array.prototype.join.call(this.value.classList, `.`);\n      }\n      return str;\n    } else if (this.value instanceof Error) {\n      return this.value.stack;\n    }\n    // else if (this.value.constructor === GeneratorFunction) {\n    //   return this\n    // }\n    return this.value.constructor.name;\n  }\n\n  createContent(obj, isPreview) {\n    const fragment = document.createDocumentFragment();\n    const keys = new Set();\n    for (let key in obj) {\n      keys.add(key);\n      const value = obj[key];\n      const view = createTypedView(value, isPreview ? Mode.PREVIEW : Mode.PROP);\n      const entryEl = ObjectView.createEntryEl(key, view.el);\n      fragment.appendChild(entryEl);\n    }\n    for (let key of Object.getOwnPropertyNames(obj)) {\n      if (keys.has(key)) {\n        continue;\n      }\n      const value = obj[key];\n      const view = createTypedView(value, isPreview ? Mode.PREVIEW : Mode.PROP);\n      const entryEl = ObjectView.createEntryEl(key, view.el);\n      fragment.appendChild(entryEl);\n    }\n    return fragment;\n  }\n\n  static createEntryEl(key, valueEl) {\n    const entryEl = getElement(`\\\n<span class=\"object__entry object-entry\">\n  <span class=\"object-entry__key\">${key}</span><span class=\"object-entry__value-container\"></span>\n</span>`);\n    const valueContEl = entryEl.querySelector(`.object-entry__value-container`);\n    valueContEl.appendChild(valueEl);\n\n    return entryEl;\n  }\n}\n","import TypeView from '../type-view';\nimport {getElement, createTypedView} from '../utils';\nimport {Mode, Class} from '../enums';\n\nexport default class ArrayView extends TypeView {\n  constructor(arr, mode) {\n    super(arr, `array`, false);\n    this._arr = arr;\n    this._mode = mode;\n    this._elements = new Map();\n    this._isOpened = false;\n  }\n\n  get template() {\n    return `\\\n<div class=\"console__item array\">\n  <div class=\"${Class.CONSOLE_ITEM_HEAD} \\\n${this._mode === Mode.PREVIEW ? Class.CONSOLE_ITEM_HEAD_SIZE : Class.CONSOLE_ITEM_HEAD_ELEMENTS}\">\\\n${this._mode === Mode.PREVIEW ? `Array(${this._arr.length})` : ``}</div>\\\n  <div class=\"${Class.CONSOLE_ITEM_CONTENT_CONTAINTER}\"></div>\n</div>`;\n  }\n\n  bind() {\n    if (this._mode === Mode.PREVIEW) {\n      return;\n    }\n    this._contentContainerEl = this.el.querySelector(`.${Class.CONSOLE_ITEM_CONTENT_CONTAINTER}`);\n    const previewEl = this.el.querySelector(`.${Class.CONSOLE_ITEM_HEAD}`);\n    previewEl.appendChild(this.createContent(this.value, true));\n\n    previewEl.addEventListener(`click`, () => {\n      if (this._isOpened) {\n        this._hideContent();\n      } else {\n        this._showContent();\n      }\n      this._isOpened = !this._isOpened;\n    });\n  }\n\n  _showContent() {\n    if (!this._proxiedContentEl) {\n      this._proxiedContentEl = getElement(`<div class=\"console__item-content\"></div>`);\n      this._proxiedContentEl.appendChild(this.createContent(this.value, false));\n    }\n\n    this._contentContainerEl.appendChild(this._proxiedContentEl);\n  }\n\n  _hideContent() {\n    this._contentContainerEl.innerHTML = ``;\n  }\n\n  createContent(arr, isPreview) {\n    const ownPropertyNames = Object.getOwnPropertyNames(arr);\n    const keys = Object.keys(arr);\n    const fragment = document.createDocumentFragment();\n    for (let key of ownPropertyNames) {\n      const value = arr[key];\n      const indexInKeys = keys.indexOf(key);\n      const isKeyNaN = Number.isNaN(Number.parseInt(key, 10));\n      if (isPreview && indexInKeys === -1) {\n        continue;\n      }\n      const view = createTypedView(value, isPreview ? Mode.PREVIEW : Mode.DIR);\n      const entryEl = ArrayView.createEntryEl(key, view.el, isPreview ? !isKeyNaN : isPreview);\n      // if (!isPreview) {\n      //   this._elements.set(entryEl, view);\n      // }\n      fragment.appendChild(entryEl);\n    }\n    return fragment;\n  }\n\n  static createEntryEl(index, valueEl, withKey) {\n    const entryEl = getElement(`\\\n<span class=\"array__entry array-entry\">\\\n  ${withKey ? `` : `<span class=\"array-entry__key\">${index}</span>`}<span class=\"array-entry__value-container\"></span>\\\n</span>`);\n    const valueContEl = entryEl.querySelector(`.array-entry__value-container`);\n    valueContEl.appendChild(valueEl);\n\n    return entryEl;\n  }\n}\n","import TypeView from '../type-view';\nimport {getElement, createTypedView} from '../utils';\nimport {Mode, Class} from '../enums';\n\nconst MAX_PREVIEW_FN_BODY_LENGTH = 43;\n\nconst FnType = {\n  PLAIN: `plain`,\n  ARROW: `arrow`,\n  CLASS: `class`\n};\n\n// arguments, caller, length, name, prototype, __proto__, [[FunctionLocation]], [[Scopes]]\n\n// if .caller not accessed — не выводим\n// if prototype undefined — не выводим\n// name — если неименованная — получает имя переменной, в которую записана\n// если именнованная — то имя ф-ии\n\nexport default class FunctionView extends TypeView {\n  constructor(fn, mode) {\n    super(fn, `function`, false);\n    this._mode = mode;\n    this._isOpened = false;\n    this._fnType = FunctionView.checkFnType(fn);\n  }\n\n  get template() {\n    let tpl = `<div class=\"console__item function\">`;\n    switch (this._mode) {\n      case Mode.PREVIEW:\n        tpl += `f`;\n        break;\n      case Mode.PROP:\n        tpl += `\\\n<div class=\"${Class.CONSOLE_ITEM_HEAD}\">${this._getHeadPropMarkup()}</div>\\\n<div class=\"${Class.CONSOLE_ITEM_CONTENT_CONTAINTER}\"></div>`;\n        break;\n      case Mode.DIR:\n        tpl += `\\\n<div class=\"${Class.CONSOLE_ITEM_HEAD}\">${this._getHeadDirMarkup()}</div>\\\n<div class=\"${Class.CONSOLE_ITEM_CONTENT_CONTAINTER}\"></div>`;\n        break;\n      case Mode.LOG:\n        tpl += this._getLogMarkup();\n        break;\n    }\n    tpl += `</div>`;\n    return tpl;\n  }\n\n  bind() {\n    if (this._mode !== Mode.DIR) {\n      return;\n    }\n\n    this._contentContainerEl = this.el.querySelector(`.${Class.CONSOLE_ITEM_CONTENT_CONTAINTER}`);\n    const previewEl = this.el.querySelector(`.${Class.CONSOLE_ITEM_HEAD}`);\n    // previewEl.appendChild(this.createPreview(this.value, true));\n\n    previewEl.addEventListener(`click`, () => {\n      if (this._isOpened) {\n        this._hideContent();\n      } else {\n        this._showContent();\n      }\n      this._isOpened = !this._isOpened;\n    });\n  }\n\n  _showContent() {\n    if (!this._proxiedContentEl) {\n      this._proxiedContentEl = getElement(`<div class=\"console__item-content\"></div>`);\n      this._proxiedContentEl.appendChild(this.createContent(this.value));\n    }\n\n    this._contentContainerEl.appendChild(this._proxiedContentEl);\n  }\n\n  _hideContent() {\n    this._contentContainerEl.innerHTML = ``;\n  }\n\n  _getHeadPropMarkup() {\n    const {name, params, lines} = this._parseFunction(this.value);\n    const joinedLines = lines.join(`\\n`);\n\n    let markup = `\\\n<span>\\\n${this._fnType === FnType.CLASS ? `class ` : ``}\\\n${this._fnType === FnType.PLAIN ? `f ` : ``}\\\n${name ? name : ``}\\\n${this._fnType !== FnType.CLASS ? `(${params.join(`, `)})` : ``}\\\n${this._fnType === FnType.ARROW ? ` => ` : ` `}`;\n    if (this._fnType !== FnType.CLASS) {\n      markup += `{\\\n  ${joinedLines.length <= MAX_PREVIEW_FN_BODY_LENGTH ? joinedLines : `...`}\\\n}`;\n    }\n    markup += `</span>`;\n    return markup;\n  }\n\n  _getHeadDirMarkup() {\n    const {name, params} = this._parseFunction(this.value);\n\n    let markup = `\\\n  <span>\\\n  ${this._fnType === FnType.CLASS ? `class ` : ``}\\\n  ${this._fnType === FnType.PLAIN ? `f ` : ``}\\\n  ${name ? name : ``}\\\n  ${this._fnType !== FnType.CLASS ? `(${params.join(`, `)})` : ``}</span>`;\n    return markup;\n  }\n\n  _getLogMarkup() {\n    return `<pre>${this.value.toString()}</pre>`;\n    // const {name, params, lines} = this._parseFunction(this.value);\n    /* return `\\\n<pre>\\\n${this._fnType === FnType.CLASS ? `class ` : ``}\\\n${this._fnType === FnType.PLAIN ? `function ` : ``}\\\n${name ? name : ``}\\\n${this._fnType !== FnType.CLASS ? `(${params.join(`, `)})` : ``}\\\n${this._fnType === FnType.ARROW ? ` => ` : ` `}{\n${lines.join(`\\n`)}\n}\n</pre>`;*/\n  }\n\n  static checkFnType(fn) {\n    let str = fn.toString();\n    const firstParenthesisIndex = str.indexOf(`(`);\n\n    const classIndex = str.indexOf(`class`);\n    const arrowIndex = str.indexOf(`=>`);\n    if (classIndex !== -1 && classIndex < firstParenthesisIndex) {\n      return FnType.CLASS;\n    } else if (arrowIndex !== -1 && arrowIndex > firstParenthesisIndex) {\n      return FnType.ARROW;\n    }\n    return FnType.PLAIN;\n  }\n\n  _parseParams(funString) {\n    const paramsStart = funString.indexOf(`(`);\n    const paramsEnd = funString.indexOf(`)`);\n\n    const paramsContent = funString.substring(paramsStart + 1, paramsEnd).trim();\n\n    return paramsContent ? paramsContent.split(`,`).map((it) => it.trim()) : [];\n  }\n\n  _parseName(funString) {\n    let endingChar;\n    if (this._fnType === FnType.CLASS) {\n      endingChar = `{`;\n    } else if (this._fnType === FnType.PLAIN) {\n      endingChar = `(`;\n    }\n    let name;\n    const re = new RegExp(`(?:class|function)\\\\s+(\\\\w+)\\\\s*(?:\\\\${endingChar})`);\n    const ex = re.exec(funString);\n    if (ex !== null) {\n      name = ex[1];\n    }\n    return name;\n  }\n\n  _parseBody(funString) {\n    const bodyStart = funString.indexOf(`{`);\n    const bodyEnd = funString.lastIndexOf(`}`);\n\n    const bodyContent = funString.substring(bodyStart + 1, bodyEnd).trim();\n\n    if (!bodyContent) {\n      return [];\n    }\n\n    return bodyContent.split(`\\n`).map(function (it) {\n      return it.trim();\n    });\n  }\n\n  _parseFunction(fnOrString) {\n    let str;\n    if (typeof fnOrString !== `string`) {\n      str = fnOrString.toString();\n    }\n    return {\n      name: fnOrString.name, // this._parseName(str),\n      params: this._parseParams(str),\n      lines: this._parseBody(str)\n    };\n  }\n\n  createContent(fn) {\n    const fragment = document.createDocumentFragment();\n    const keys = [`name`, `prototype`, `caller`, `arguments`, `length`, `__proto__`];\n    for (let key of keys) {\n      let value;\n      try {\n        value = fn[key];\n      } catch (err) {\n        continue;\n      }\n      const view = createTypedView(value, Mode.DIR);\n      const entryEl = FunctionView.createEntryEl(key, view.el);\n      fragment.appendChild(entryEl);\n    }\n    return fragment;\n  }\n\n  static createEntryEl(key, valueEl) {\n    const entryEl = getElement(`\\\n<span class=\"object__entry object-entry\">\n  <span class=\"object-entry__key\">${key}</span><span class=\"object-entry__value-container\"></span>\n</span>`);\n    const valueContEl = entryEl.querySelector(`.object-entry__value-container`);\n    valueContEl.appendChild(valueEl);\n\n    return entryEl;\n  }\n}\n","import TypeView from '../type-view';\nimport {Mode} from '../enums';\n\nconst Class = {\n  STRING_COLLAPSED: `string_collapsed`\n};\n\nexport default class PrimitiveView extends TypeView {\n  constructor(value, mode, type) {\n    super(value, type, true);\n    this._mode = mode;\n  }\n\n  get template() {\n    const type = this.type;\n    const value = this.value;\n    let html = ``;\n    switch (type) {\n      case `undefined`:\n      case `null`:\n      case `boolean`:\n        html = `<div class=\"console__item console__item_primitive ` + type + `\">` + value + `</div>`;\n        break;\n\n      case `number`:\n        if (isNaN(value)) {\n          html = `<div class=\"console__item console__item_primitive NaN\">NaN</div>`;\n        } else if ((value === Infinity || value === -Infinity)) {\n          html = `<div class=\"console__item console__item_primitive number\">` + (value === -Infinity ? `-` : ``) + `Infinity</div>`;\n        } else {\n          html = `<div class=\"console__item console__item_primitive ` + type + `\">` + value + `</div>`;\n        }\n        break;\n\n      case `string`:\n        const escaped = this.escapeHtml(value);\n        html = `<pre class=\"console__item console__item_primitive string ${this._mode === Mode.PROP ? Class.STRING_COLLAPSED : ``}\">${escaped}</pre>`;\n        break;\n      case `symbol`:\n        html = `<div class=\"console__item console__item_primitive ` + type + `\">` + value.toString() + `</div>`;\n        break;\n\n      case `object`:\n        if (value === null) {\n          html = `<div class=\"console__item console__item_primitive null\">` + value + `</div>`;\n          break;\n        }\n    }\n    return html;\n  }\n\n  bind() {\n    if (this.type === `string`) {\n      this.el.addEventListener(`click`, (evt) => {\n        evt.preventDefault();\n        this.el.classList.toggle(Class.STRING_COLLAPSED);\n      });\n    }\n  }\n\n  escapeHtml(unsafe) {\n    return unsafe\n        .replace(/&/g, `&amp;`)\n        .replace(/</g, `&lt;`)\n        .replace(/>/g, `&gt;`)\n        .replace(/\"/g, `&quot;`)\n        .replace(/'/g, `&#039;`);\n  }\n}\n","import ObjectView from './object/object-view';\nimport ArrayView from './array/array-view';\nimport FunctionView from './function/function-view';\nimport PrimitiveView from './primitive/primitive-view';\n\nexport const getElement = (htmlMarkup) => {\n  const div = document.createElement(`div`);\n  div.innerHTML = htmlMarkup;\n  return div.firstElementChild;\n};\n\nconst primitiveTypeofs = [\n  `undefined`,\n  `number`,\n  `string`,\n  `boolean`,\n  `symbol`,\n  `object`\n];\n\nexport const getPrimitiveType = (val) => {\n  const type = typeof val;\n\n  if (!primitiveTypeofs.includes(type)) {\n    throw new Error(`Unknown primitive type: ` + type);\n  }\n\n  return type;\n};\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/typeof\nexport const createTypedView = (val, mode) => {\n  let view;\n  const type = typeof val;\n  switch (type) {\n    case `function`:\n      view = new FunctionView(val, mode);\n      break;\n    case `object`:\n      // TODO: check instanceof Date, String, Boolean, Number\n      if (val !== null) {\n        if (Array.isArray(val)) {\n          view = new ArrayView(val, mode);\n        } else {\n          view = new ObjectView(val, mode);\n        }\n      } else {\n        view = new PrimitiveView(val, mode, type);\n      }\n      break;\n    default:\n      view = new PrimitiveView(val, mode, type);\n      break;\n  }\n  return view;\n};\n","// import babelPolyfill from 'babel-polyfill';\n// import whatwgFetch from 'whatwg-fetch';\nimport {getElement, createTypedView} from './utils';\n\nconst Mode = {\n  LOG: `log`,\n  DIR: `dir`,\n  PREVIEW: `preview`,\n  ERROR: `error`\n};\n\nconst getRowEl = (entries, mode) => {\n  const el = getElement(`<div class=\"console__row\"></div>`);\n  entries.forEach(function (code) {\n    el.appendChild(createTypedView(code, mode).el);\n  });\n  return el;\n};\n\n/**\n * Init Console\n *\n * @param {HTMLElement} cont — console container\n * @return {{log: log}}\n */\nconst jsConsoleInit = (cont) => {\n  if (!cont) {\n    throw Error(`Console is not inited!`);\n  }\n\n  // Public interface\n  const logger = {};\n\n  /**\n   * Show formatted & highlighted code into `cont`\n   */\n  logger.log = function (...rest) {\n    cont.appendChild(getRowEl(rest, Mode.LOG));\n\n    if (typeof logger.onlog === `function`) {\n      logger.onlog(rest);\n    }\n  };\n\n  logger.error = function (errOrSmth) {\n    const el = getElement(`<div class=\"console__row\"></div>`);\n    if (errOrSmth instanceof Error) {\n      el.appendChild(createTypedView(errOrSmth, Mode.ERROR).el);\n    } else {\n      el.appendChild(createTypedView(new Error(errOrSmth), Mode.ERROR).el);\n    }\n    cont.appendChild(el);\n  };\n\n  logger.clean = function () {\n    cont.innerHTML = ``;\n  };\n\n  logger.getLogSource = function () {\n    return cont.innerHTML;\n  };\n\n  logger.dir = function (...rest) {\n    cont.appendChild(getRowEl(rest, Mode.DIR));\n\n    if (typeof logger.onlog === `function`) {\n      logger.onlog(rest);\n    }\n  };\n\n  logger.extend = function (consoleObject) {\n    consoleObject.log = logger.log;\n    consoleObject.info = logger.log;\n\n    consoleObject.error = logger.error;\n    consoleObject.warn = logger.error;\n\n    consoleObject.dir = logger.dir;\n\n    return consoleObject;\n  };\n\n  return logger;\n};\n\n// window.jsConsoleInit = jsConsoleInit;\nexport default jsConsoleInit;\n","import jsConsoleInit from './main';\n\nconst CSS_URL = `//htmlacademy.github.io/console.js/css/style.css`;\n\nconst errors = [];\nconst collectErr = function (...rest) {\n  errors.push(rest);\n};\nwindow.onerror = collectErr;\nwindow.console.warn = collectErr;\nwindow.console.error = collectErr;\n\nconst messages = [];\nconst collectMsg = function (...rest) {\n  messages.push(...rest);\n};\nwindow.console.info = collectMsg;\nwindow.console.log = collectMsg;\nwindow.console.debug = collectMsg;\n\nconst init = function () {\n  const div = window.document.createElement(`div`);\n  const jsConsole = jsConsoleInit(div);\n  window.document.body.appendChild(div);\n\n  jsConsole.extend(window.console);\n\n  errors.forEach(function (args) {\n    jsConsole.error(jsConsole, ...args);\n  });\n  messages.forEach(function (args) {\n    jsConsole.log(jsConsole, ...args);\n  });\n  window.addEventListener(`error`, (evt) => {\n    jsConsole.error(evt.error);\n  });\n};\n\nconst loadStyles = function () {\n  const link = window.document.createElement(`link`);\n  link.rel = `stylesheet`;\n  link.href = CSS_URL;\n  window.document.head.appendChild(link);\n};\n\nwindow.addEventListener(`DOMContentLoaded`, function () {\n  init();\n  loadStyles();\n});\n"]}