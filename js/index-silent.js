!function(){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),n=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},i=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},a=function(){function e(){o(this,e)}return t(e,[{key:"render",value:function(){return D(this.template)}},{key:"bind",value:function(){}},{key:"template",get:function(){}},{key:"el",get:function(){return this._el||(this._el=this.render(),this.bind(this._el)),this._el}}]),e}(),l="log",h="dir",m="preview",g="prop",c="error",u="console__item-head",d="console__item_pointer",_="console__item-head_show",v="console__item-head_braced",f="console__item-head-info",w="console__item-head-elements",E="console__item-head-elements_show",b="console__item-content-container",p="console__item-content-container_show",y="console__item-head-elements-length",k="console__item-head-elements-length_show",C=function(e){function r(e,t,n){o(this,r);var i=s(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return i._value=e,i._type=t,i._isPrimitive=n,i._isOpened=!1,i}return n(r,a),t(r,[{key:"_getHeadErrorContent",value:function(){return{elOrStr:"<pre>"+this._value.stack+"</pre>",isShowConstructor:!1,isShowElements:!0}}},{key:"_toggleContent",value:function(){this._proxiedContentEl||(this._proxiedContentEl=D('<div class="console__item-content"></div>'),this._proxiedContentEl.appendChild(this.createContent(this.value,!1)),this._contentContainerEl.appendChild(this._proxiedContentEl)),this._contentContainerEl.classList.toggle(p)}},{key:"_hideContent",value:function(){this._proxiedContentEl.style.display="none"}},{key:"_additionHeadClickHandler",value:function(){}},{key:"_setHeadClickHandler",value:function(e){var t=this;this._setCursorPointer(),e.addEventListener("click",function(e){e.preventDefault(),t._toggleContent(),t._additionHeadClickHandler()})}},{key:"_setCursorPointer",value:function(){this.el.classList.add(d)}},{key:"value",get:function(){return this._value}},{key:"type",get:function(){return this._type}},{key:"isPrimitive",get:function(){return this._isPrimitive}}],[{key:"createEntryEl",value:function(e,t,n){var i=D('<span class="entry-container__entry">  '+(n?"":'<span class="entry-container__key">'+e+"</span>")+'<span class="entry-container__value-container"></span></span>');return i.querySelector(".entry-container__value-container").appendChild(t),i}}]),r}(),S=function(e){function y(e,t){o(this,y);var n=s(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,e,"object",!1));return n._mode=t,n._entries=new Map,n._isOpened=!1,n}return n(y,C),t(y,[{key:"bind",value:function(){var e=this.el.querySelector("."+u),t=e.querySelector("."+w),n=e.querySelector("."+f);this._contentContainerEl=this.el.querySelector("."+b);var i=this._getHeadContent(),r=i.elOrStr,o=i.isShowConstructor,s=i.isShowElements,a=i.isBraced,l=i.isOpeningDisabled;a&&e.classList.add(v),o&&n.classList.add(_),s&&(r instanceof HTMLElement||r instanceof DocumentFragment?t.appendChild(r):t.innerHTML=r,t.classList.add(E)),this._mode!==m&&this._mode!==c&&(l||this._setHeadClickHandler(e))}},{key:"_getHeadContent",value:function(){return this._mode===h?this._getHeadDirContent():this._mode===l||this._mode===g?this._getHeadLogContent():this._mode===m?this._getHeadPreviewContent():this._mode===c?this._getHeadErrorContent():""}},{key:"_getHeadPreviewContent",value:function(){return"[object Object]"===Object.prototype.toString.call(this.value)?{elOrStr:"...",isShowConstructor:!1,isShowElements:!0,isBraced:!0}:this._getHeadDirContent()}},{key:"_getHeadLogContent",value:function(){var e=void 0,t=!1,n=!0,i=!1;if(this.value instanceof HTMLElement)return this._getHeadDirContent();if(this.value instanceof Error)n=!1,e=this.value.stack;else if(this.value instanceof Number){e=N(Number.parseInt(this.value,10),m).el,t=!0}else if(this.value instanceof String){e=N(this.value.toString(),m).el,t=!0}else this.value instanceof Date?(e=this.value.toString(),n=!1):this.value instanceof RegExp?(e="/"+this.value.source+"/"+this.value.flags,i=!0,n=!1):(e=this.createContent(this.value,!0),this.value.constructor!==Object&&(t=!0));return{elOrStr:e,isShowConstructor:t,isShowElements:!0,isBraced:n,isOpeningDisabled:i}}},{key:"_getHeadDirContent",value:function(){var e=void 0,t=!1,n=!0;if(this.value instanceof HTMLElement){var i=this.value.tagName.toLowerCase();i+=this.value.id,this.value.classList.length&&(i+="."+Array.prototype.join.call(this.value.classList,".")),e=i}else this.value instanceof Date?e=this.value.toString():this.value instanceof RegExp?e="/"+this.value.source+"/"+this.value.flags:this.value instanceof Error?e=this.value.stack:(e=this.value,t=!0,n=!1);return{elOrStr:e,isShowConstructor:t,isShowElements:n,isBraced:!1}}},{key:"createContent",value:function(e,t){var n=document.createDocumentFragment(),i=new Set;for(var r in e){i.add(r);var o=e[r],s=N(o,t?m:g),a=y.createEntryEl(r,s.el);n.appendChild(a)}var l=!0,c=!1,u=void 0;try{for(var d,h=Object.getOwnPropertyNames(e)[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var _=d.value;if(!i.has(_)){var v=e[_],f=N(v,t?m:g),p=y.createEntryEl(_,f.el);n.appendChild(p)}}}catch(e){c=!0,u=e}finally{try{!l&&h.return&&h.return()}finally{if(c)throw u}}return n}},{key:"template",get:function(){return'<div class="console__item console__item_object '+(this._mode===c?""+this._mode:"")+'">  <div class="'+u+'">\n    <span class="'+f+'">'+this.value.constructor.name+'</span>\n    <div class="'+w+' entry-container entry-container_head"></div>\n  </div>\n  <div class="'+b+' entry-container"></div>\n</div>'}}]),y}(),H=function(e){function p(e,t){o(this,p);var n=s(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,e,"array",!1));return n._mode=t,n._elements=new Map,n._isOpened=!1,n}return n(p,C),t(p,[{key:"bind",value:function(){this._contentContainerEl=this.el.querySelector("."+b),this.headEl=this.el.querySelector("."+u),this.headInfoEl=this.headEl.querySelector("."+f),this.headElementsEl=this.headEl.querySelector("."+w),this.headElementsLengthEl=this.headEl.querySelector("."+y);var e=this._getHeadContent(),t=e.isShowConstructor,n=e.isShowElements,i=e.isShowLength;t&&this._toggleConstructor(this.headInfoEl,!0),n&&(this.headElementsEl.appendChild(this.createContent(this.value,!0)),this._toggleHeadElements(this.headElementsEl,!0)),i&&this._toggleLength(this.headElementsLengthEl,!0),this._mode!==m&&this._setHeadClickHandler(this.headEl)}},{key:"_additionHeadClickHandler",value:function(){this._mode===g&&(this._toggleConstructor(),this._toggleHeadElements())}},{key:"_toggleConstructor",value:function(){this.headInfoEl.classList.toggle(_)}},{key:"_toggleLength",value:function(){this.headElementsLengthEl.classList.toggle(k)}},{key:"_toggleHeadElements",value:function(){this.headElementsEl.classList.toggle(E)}},{key:"_getHeadContent",value:function(){var e=!1,t=!0,n=1<this.value.length;if(this._mode===h)e=!0,t=!1;else if(this._mode===m)t=!1,n=e=!0;else if(this._mode===c)return this._getHeadErrorContent();return{isShowConstructor:e,isShowElements:t,isShowLength:n}}},{key:"createContent",value:function(e,t){var n=Object.getOwnPropertyNames(e),i=Object.keys(e),r=document.createDocumentFragment(),o=!0,s=!1,a=void 0;try{for(var l,c=n[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value,d=e[u],h=i.indexOf(u),_=Number.isNaN(Number.parseInt(u,10));if(!t||-1!==h){var v=N(d,t?m:g),f=p.createEntryEl(u,v.el,t?!_:t);r.appendChild(f)}}}catch(e){s=!0,a=e}finally{try{!o&&c.return&&c.return()}finally{if(s)throw a}}return r}},{key:"template",get:function(){return'<div class="console__item console__item_array">\n  <div class="'+u+'">\n    <span class="'+f+'">'+this.value.constructor.name+'</span>\n    <span class="'+y+'">'+this.value.length+'</span>\n    <div class="'+w+' entry-container entry-container_head"></div>\n  </div>\n  <div class="'+b+' entry-container"></div>\n</div>'}}]),p}(),O="plain",L="arrow",j="class",x=function(e){function d(e,t){o(this,d);var n=s(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e,"function",!1));return n._mode=t,n._isOpened=!1,n._fnType=d.checkFnType(e),n}return n(d,C),t(d,[{key:"bind",value:function(){if(this._mode===h||this._mode===g){this._contentContainerEl=this.el.querySelector("."+b);var e=this.el.querySelector("."+u);this._setHeadClickHandler(e)}}},{key:"_getHeadPropMarkup",value:function(){var e=this.parseFunction(this.value),t=e.name,n=e.params,i=e.lines.join("\n"),r="<span>"+(this._fnType===j?"class ":"")+(this._fnType===O?"f ":"")+(t||"")+(this._fnType!==j?"("+n.join(", ")+")":"")+(this._fnType===L?" => ":" ");return this._fnType!==j&&(r+="{"+(i.length<=43?i:"...")+"}"),r+="</span>"}},{key:"_getHeadDirMarkup",value:function(){var e=this.parseFunction(this.value),t=e.name,n=e.params;return"  <span>  "+(this._fnType===j?"class ":"")+"  "+(this._fnType===O?"f ":"")+"  "+(t||"")+"  "+(this._fnType!==j?"("+n.join(", ")+")":"")+"</span>"}},{key:"_getLogMarkup",value:function(){return"<pre>"+this.value.toString()+"</pre>"}},{key:"parseParams",value:function(e){var t=e.indexOf("("),n=e.indexOf(")"),i=e.substring(t+1,n).trim();return i?i.split(",").map(function(e){return e.trim()}):[]}},{key:"parseName",value:function(e){var t=void 0;this._fnType===j?t="{":this._fnType===O&&(t="(");var n=void 0,i=new RegExp("(?:class|function)\\s+(\\w+)\\s*(?:\\"+t+")").exec(e);return null!==i&&(n=i[1]),n}},{key:"parseBody",value:function(e){var t=e.indexOf("{"),n=e.lastIndexOf("}"),i=e.substring(t+1,n).trim();return i?i.split("\n").map(function(e){return e.trim()}):[]}},{key:"parseFunction",value:function(e){var t=void 0;return"string"!=typeof e&&(t=e.toString()),{name:e.name,params:this.parseParams(t),lines:this.parseBody(t)}}},{key:"createContent",value:function(e){var t=document.createDocumentFragment(),n=!0,i=!1,r=void 0;try{for(var o,s=["name","prototype","caller","arguments","length","__proto__"][Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var a=o.value,l=void 0;try{l=e[a]}catch(e){continue}var c=N(l,h),u=d.createEntryEl(a,c.el);t.appendChild(u)}}catch(e){i=!0,r=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw r}}return t}},{key:"template",get:function(){var e='<div class="console__item console__item_function">';switch(this._mode){case m:e+="f";break;case g:e+='<div class="'+u+'">'+this._getHeadPropMarkup()+'</div><div class="'+b+' entry-container"></div>';break;case h:e+='<div class="'+u+'">'+this._getHeadDirMarkup()+'</div><div class="'+b+' entry-container"></div>';break;case l:e+=this._getLogMarkup()}return e+="</div>"}}],[{key:"checkFnType",value:function(e){var t=e.toString(),n=t.indexOf("("),i=t.indexOf("class"),r=t.indexOf("=>");return-1!==i&&i<n?j:-1!==r&&n<r?L:O}}]),d}(),P="string_collapsed",T=function(e){function r(e,t,n){o(this,r);var i=s(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,n,!0));return i._mode=t,i}return n(r,C),t(r,[{key:"bind",value:function(){var t=this;this._mode===g&&"string"===this.type&&(this._setCursorPointer(),this.el.addEventListener("click",function(e){e.preventDefault(),t.el.classList.toggle(P)}))}},{key:"escapeHtml",value:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}},{key:"template",get:function(){var e=this.type,t=this.value,n="";switch("string"!==e&&"symbol"!==e||("symbol"===e&&(t=t.toString()),t=this.escapeHtml(t)),e){case"undefined":case"null":case"boolean":n='<div class="console__item console__item_primitive '+e+'">'+t+"</div>";break;case"number":n=Number.isNaN(t)?'<div class="console__item console__item_primitive NaN">NaN</div>':t===1/0||t===-1/0?'<div class="console__item console__item_primitive number">'+(t===-1/0?"-":"")+"Infinity</div>":'<div class="console__item console__item_primitive '+e+'">'+t+"</div>";break;case"string":n='<pre class="console__item console__item_primitive string '+(this._mode===g?P:"")+'">'+t+"</pre>";break;case"symbol":n='<div class="console__item console__item_primitive symbol">'+t+"</div>";break;case"object":if(null===t){n='<div class="console__item console__item_primitive null">'+t+"</div>";break}}return n}}]),r}(),D=function(e){var t=document.createElement("div");return t.innerHTML=e,t.firstElementChild},N=function(e,t){var n=void 0,i=void 0===e?"undefined":r(e);switch(i){case"function":n=new x(e,t);break;case"object":n=null!==e?Array.isArray(e)?new H(e,t):new S(e,t):new T(e,t,i);break;default:n=new T(e,t,i)}return n},M="log",q="dir",A="error",F=function(s){if(!s)throw Error("Console is not inited!");var a={};return a.log=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,r,o;s.appendChild((i=t,r=M,o=D('<div class="console__row"></div>'),i.forEach(function(e){o.appendChild(N(e,r).el)}),o)),"function"==typeof a.onlog&&a.onlog(t)},a.error=function(e){var t=D('<div class="console__row"></div>');e instanceof Error?t.appendChild(N(e,A).el):t.appendChild(N(new Error(e),A).el),s.appendChild(t)},a.clean=function(){s.innerHTML=""},a.getLogSource=function(){return s.innerHTML},a.dir=function(e){var t=D('<div class="console__row"></div>');if(t.appendChild(N(e,q).el),s.appendChild(t),"function"==typeof a.onlog){for(var n=arguments.length,i=Array(1<n?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];a.onlog(i)}},a.extend=function(e){return e.log=a.log,e.info=a.log,e.error=a.error,e.warn=a.error,e.dir=a.dir,e},a},I=[],e=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];I.push(t)};window.onerror=e,window.console.warn=e,window.console.error=e;var B=[],R=function(){B.push.apply(B,arguments)};window.console.info=R,window.console.log=R,window.console.debug=R;window.addEventListener("DOMContentLoaded",function(){var e;!function(){var e=window.document.createElement("div");e.classList.add("console");var t=F(e);window.document.body.appendChild(e),t.extend(window.console),I.forEach(function(e){t.error.apply(t,[t].concat(i(e)))}),B.forEach(function(e){t.log.apply(t,[t].concat(i(e)))}),window.addEventListener("error",function(e){t.error(e.error)})}(),(e=window.document.createElement("link")).rel="stylesheet",e.href="//htmlacademy.github.io/console.js/css/style.css",window.document.head.appendChild(e)})}();
//# sourceMappingURL=index-silent.js.map
